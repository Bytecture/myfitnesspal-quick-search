$(document).ready(function(){$(".tabbed").hide(),$("#search").focus()}),console.log("here"),setTimeout(function(){$("div.pagination").hide(),$(".table-footer").hide();let e=$("#recent_page_1 > table > tbody"),t=100,n=[],o=$("#search");function d(t,o){tbody_f=t;let d=t.children("tr");$(d).each(function(t){let i=$(d[t]);if(0==i.find("td.no_results").length){var a=i.find("input.checkbox").attr("data-food-external-id");a&&-1!=n.indexOf(a)||(n.push(a),o?console.log("skipping"):i.clone().appendTo(e))}})}function i(t){let n=o.val().toLowerCase();var d=$(e).children();$(d).each(function(e){let t=$(d[e]).html();""!=n&&-1===t.toLowerCase().indexOf(n)?$(d[e]).hide():$(d[e]).show()})}d($("#recent_page_1 > table > tbody"),!0),d($("#frequent_page_1 > table > tbody")),o.on("change paste keyup",i);var a="/food/load_recent",c="/food/load_my_foods",l="/food/load_meals",u="/food/load_recipes";function r(e,n){var o=new $.Deferred;return setTimeout(function(){let a=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("meal"),c=t+=25;$.ajax({type:"POST",url:n,data:{meal:a,base_index:c,page:e},dataType:"html",beforeSend:function(e){e.setRequestHeader("X-CSRF-Token",$("#input_auth").val()),e.setRequestHeader("X-NewRelic-ID",$("#input_xpid").val())},success:function(t){d($($.parseHTML(t)).find("tbody")),console.log({logged_from_server:e}),i(),o.resolve()},always:function(e){}})},500),o.promise()}$(document).ready(function(){var e=document.createElement("input"),t=document.createElement("input");e.setAttribute("type","hidden"),t.setAttribute("type","hidden"),e.id="input_auth",t.id="input_xpid",document.getElementById("main").appendChild(e),document.getElementById("main").appendChild(t);var n=document.createElement("script");n.innerHTML='$("#input_xpid").val(window.NREUM.loader_config.xpid); $("#input_auth").val(window.AUTH_TOKEN);',document.body.appendChild(n)}),r(2,a).then(function(){r(3,a).then(function(){r(4,a).then(function(){r(1,c).then(function(){r(1,l).then(function(){r(1,u).then(function(){})})})})})})},3e3);